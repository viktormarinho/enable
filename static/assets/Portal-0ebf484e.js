import{S as C,i as E,s as y,f as p,F as S,g as v,b as d,w as k,N as z,c as b,d as _,l as j,G as q,j as D,k as h,n as w,m as F,t as g,e as $,E as O,x as G,O as H,Q as M,R as Q,z as R,H as T,p as N,q as U,r as P,T as V,U as W,V as X,W as A,X as B,u as I}from"./index-3c6817a0.js";function J(a){const e=t=>{a&&!a.contains(t.target)&&!t.defaultPrevented&&a.dispatchEvent(new CustomEvent("click_outside",a))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function L(a){let e,t,n,r,l,s,o,c,u,f;return{c(){e=p("div"),t=p("span"),n=S(a[0]),r=v(),l=p("a"),l.textContent="Settings",s=v(),o=p("a"),o.textContent="Logout",d(t,"class","svelte-aym95l"),d(l,"href","#/admin/settings"),d(l,"class","link hover svelte-aym95l"),d(o,"href","/api/auth/logout"),d(o,"class","link hover svelte-aym95l"),d(e,"class","hidden svelte-aym95l"),k(e,"open",a[1])},m(i,m){b(i,e,m),_(e,t),_(t,n),_(e,r),_(e,l),_(e,s),_(e,o),u||(f=[G(J.call(null,e)),j(e,"click_outside",a[3])],u=!0)},p(i,m){m&1&&q(n,i[0]),m&2&&k(e,"open",i[1])},i(i){i&&(c||H(()=>{c=M(e,Q,{y:5}),c.start()}))},o:w,d(i){i&&$(e),u=!1,R(f)}}}function K(a){let e,t,n=(a[0].at(0)??" ").toUpperCase()+"",r,l,s,o=a[1],c,u,f=L(a);return{c(){e=p("div"),t=p("button"),r=S(n),l=v(),s=p("div"),f.c(),d(t,"class","user-button svelte-aym95l"),k(t,"modal-open",a[1]),z(s,"position","relative")},m(i,m){b(i,e,m),_(e,t),_(t,r),_(e,l),_(e,s),f.m(s,null),c||(u=j(t,"click",a[2]),c=!0)},p(i,[m]){m&1&&n!==(n=(i[0].at(0)??" ").toUpperCase()+"")&&q(r,n),m&2&&k(t,"modal-open",i[1]),m&2&&y(o,o=i[1])?(D(),h(f,1,1,w),F(),f=L(i),f.c(),g(f,1),f.m(s,null)):f.p(i,m)},i(i){g(f)},o(i){h(f)},d(i){i&&$(e),f.d(i),c=!1,u()}}}function Y(a,e,t){let n="",r=!1;return O(async()=>{const o=await fetch("/api/auth/me"),{email:c}=await o.json();t(0,n=c)}),[n,r,()=>t(1,r=!r),()=>t(1,r=!1)]}class Z extends C{constructor(e){super(),E(this,e,Y,K,y,{})}}function x(a){let e,t,n,r,l,s,o,c;return n=new T({props:{width:"32",height:"32"}}),o=new Z({}),{c(){e=p("nav"),t=p("a"),N(n.$$.fragment),r=v(),l=p("h3"),l.textContent="Enable",s=v(),N(o.$$.fragment),d(t,"href","#/admin"),d(t,"class","logo svelte-1f4e2pu"),d(e,"class","navbar svelte-1f4e2pu")},m(u,f){b(u,e,f),_(e,t),U(n,t,null),_(t,r),_(t,l),_(e,s),U(o,e,null),c=!0},p:w,i(u){c||(g(n.$$.fragment,u),g(o.$$.fragment,u),c=!0)},o(u){h(n.$$.fragment,u),h(o.$$.fragment,u),c=!1},d(u){u&&$(e),P(n),P(o)}}}class le extends C{constructor(e){super(),E(this,e,null,x,y,{})}}function ee(a){let e,t,n;const r=a[2].default,l=V(r,a,a[1],null);return{c(){e=p("div"),t=p("div"),l&&l.c(),d(t,"class","portal-inner"),d(e,"class","portal-clone svelte-1tufk5f")},m(s,o){b(s,e,o),_(e,t),l&&l.m(t,null),a[3](t),n=!0},p(s,[o]){l&&l.p&&(!n||o&2)&&W(l,r,s,s[1],n?A(r,s[1],o,null):X(s[1]),null)},i(s){n||(g(l,s),n=!0)},o(s){h(l,s),n=!1},d(s){s&&$(e),l&&l.d(s),a[3](null)}}}function te(a,e,t){let{$$slots:n={},$$scope:r}=e,l,s;O(()=>{s=document.createElement("div"),s.className="portal",document.body.appendChild(s),s.appendChild(l)}),B(()=>{document.body.removeChild(s)});function o(c){I[c?"unshift":"push"](()=>{l=c,t(0,l)})}return a.$$set=c=>{"$$scope"in c&&t(1,r=c.$$scope)},[l,r,n,o]}class ae extends C{constructor(e){super(),E(this,e,te,ee,y,{})}}export{le as N,ae as P,J as c};
