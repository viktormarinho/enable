import{S as P,i as H,s as J,f as m,g as k,h as ne,b as u,c as S,l as M,t as N,j as Z,k as A,m as x,e as D,o as Q,p as B,q,r as z,I as ae,u as se,v as le,B as re,F as T,w as I,d as o,x as ie,y as oe,G as O,z as ee,H as ce,n as K,a as L,J as te,C as U,D as fe,E as ue}from"./index-c384d19f.js";import{P as pe,c as de,N as me}from"./Portal-bbb113f2.js";import{C as _e,B as ve}from"./BackToProjects-3334f8ec.js";function V(l){let e,t;return e=new pe({props:{$$slots:{default:[he]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},m(n,a){q(e,n,a),t=!0},p(n,a){const r={};a&2063&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function ge(l){let e,t;return e=new ce({props:{width:"32",height:"32"}}),{c(){B(e.$$.fragment)},m(n,a){q(e,n,a),t=!0},p:K,i(n){t||(N(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function he(l){let e,t,n,a,r,c,s,i,d,j,$,g,b,_,f,p,h,C;function y(w){l[8](w)}let F={type:"text",placeholder:"Feature name",error:"",$$slots:{default:[ge]},$$scope:{ctx:l}};return l[0].name!==void 0&&(F.value=l[0].name),r=new ae({props:F}),se.push(()=>le(r,"value",y)),f=new re({props:{text:"Create",loading:l[3]}}),{c(){e=m("div"),t=m("form"),n=m("span"),n.textContent="New feature",a=k(),B(r.$$.fragment),s=k(),i=m("p"),d=T("Feature identifier: "),j=m("strong"),$=T(l[1]),g=k(),b=m("p"),b.textContent="This is a unique identifier for this feature across all your projects.",_=k(),B(f.$$.fragment),u(n,"class","svelte-tzlhwt"),u(i,"class","svelte-tzlhwt"),u(b,"class","help svelte-tzlhwt"),u(t,"class","modal-content svelte-tzlhwt"),u(e,"class","hidden svelte-tzlhwt"),I(e,"open",l[2])},m(w,v){S(w,e,v),o(e,t),o(t,n),o(t,a),q(r,t,null),o(t,s),o(t,i),o(i,d),o(i,j),o(j,$),o(t,g),o(t,b),o(t,_),q(f,t,null),p=!0,h||(C=[M(t,"submit",l[4]),ie(de.call(null,e)),M(e,"click_outside",l[9])],h=!0)},p(w,v){const E={};v&2048&&(E.$$scope={dirty:v,ctx:w}),!c&&v&1&&(c=!0,E.value=w[0].name,oe(()=>c=!1)),r.$set(E),(!p||v&2)&&O($,w[1]);const G={};v&8&&(G.loading=w[3]),f.$set(G),(!p||v&4)&&I(e,"open",w[2])},i(w){p||(N(r.$$.fragment,w),N(f.$$.fragment,w),p=!0)},o(w){A(r.$$.fragment,w),A(f.$$.fragment,w),p=!1},d(w){w&&D(e),z(r),z(f),h=!1,ee(C)}}}function $e(l){let e,t,n,a,r,c,s=l[2]&&V(l);return{c(){e=m("button"),e.innerHTML="<span>Create feature +</span>",t=k(),s&&s.c(),n=ne(),u(e,"class","btn-secondary")},m(i,d){S(i,e,d),S(i,t,d),s&&s.m(i,d),S(i,n,d),a=!0,r||(c=M(e,"click",l[7]),r=!0)},p(i,[d]){i[2]?s?(s.p(i,d),d&4&&N(s,1)):(s=V(i),s.c(),N(s,1),s.m(n.parentNode,n)):s&&(Z(),A(s,1,1,()=>{s=null}),x())},i(i){a||(N(s),a=!0)},o(i){A(s),a=!1},d(i){i&&(D(e),D(t),D(n)),s&&s.d(i),r=!1,c()}}}function be(l,e,t){let{projectId:n}=e,{projectName:a}=e,r={name:"",project_id:n},c=Q.make(r),s="",i=!1,d=!1;async function j(_){_.preventDefault(),t(3,d=!0);const f=await fetch("/api/features",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});if(!f.ok){c=Q.apply(c,await f.json()),t(3,d=!1);return}location.reload()}const $=()=>t(2,i=!0);function g(_){l.$$.not_equal(r.name,_)&&(r.name=_,t(0,r))}const b=()=>t(2,i=!1);return l.$$set=_=>{"projectId"in _&&t(5,n=_.projectId),"projectName"in _&&t(6,a=_.projectName)},l.$$.update=()=>{l.$$.dirty&65&&(r.name.length>0?t(1,s=`${a}_${r.name}`.toLowerCase().split(" ").join("_")):t(1,s=""))},[r,s,i,d,j,n,a,$,g,b]}class we extends P{constructor(e){super(),H(this,e,be,$e,J,{projectId:5,projectName:6})}}function ke(l){let e,t,n,a,r,c;return{c(){e=L("svg"),t=L("path"),n=L("path"),a=L("path"),r=L("path"),c=L("path"),u(t,"stroke","none"),u(t,"d","M0 0h24v24H0z"),u(t,"fill","none"),u(n,"d","M4 13h5"),u(a,"d","M12 16v-8h3a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-3"),u(r,"d","M20 8v8"),u(c,"d","M9 16v-5.5a2.5 2.5 0 0 0 -5 0v5.5"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","icon icon-tabler icon-tabler-api"),u(e,"width","24"),u(e,"height","24"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","2"),u(e,"stroke","currentColor"),u(e,"fill","none"),u(e,"stroke-linecap","round"),u(e,"stroke-linejoin","round")},m(s,i){S(s,e,i),o(e,t),o(e,n),o(e,a),o(e,r),o(e,c)},p:K,i:K,o:K,d(s){s&&D(e)}}}class je extends P{constructor(e){super(),H(this,e,null,ke,J,{})}}function Ne(l){let e,t,n,a,r,c;return n=new je({}),{c(){e=m("button"),t=m("span"),B(n.$$.fragment),u(t,"class","svelte-16ad7zl"),u(e,"class","btn-secondary svelte-16ad7zl"),I(e,"selected",l[0])},m(s,i){S(s,e,i),o(e,t),q(n,t,null),a=!0,r||(c=M(e,"click",l[1]),r=!0)},p(s,[i]){(!a||i&1)&&I(e,"selected",s[0])},i(s){a||(N(n.$$.fragment,s),a=!0)},o(s){A(n.$$.fragment,s),a=!1},d(s){s&&D(e),z(n),r=!1,c()}}}function ye(l,e,t){let{selected:n=!1}=e;function a(r){te.call(this,l,r)}return l.$$set=r=>{"selected"in r&&t(0,n=r.selected)},[n,a]}class Ce extends P{constructor(e){super(),H(this,e,ye,Ne,J,{selected:0})}}function Ae(l){let e,t,n,a,r,c,s,i,d,j,$,g,b,_,f,p,h,C,y;return{c(){e=m("div"),t=m("div"),n=m("span"),n.textContent='import { EnableClient } from "@enable/ts-sdk";',a=k(),r=m("span"),r.textContent=`export const features = new EnableClient(${`{ url: "${location.origin}", token: env.ENABLE_TOKEN }`});`,c=k(),s=m("span"),i=k(),d=m("span"),d.textContent="...",j=k(),$=m("span"),g=k(),b=m("span"),b.textContent='import { features } from "config";',_=k(),f=m("span"),p=T('const isActive = features.isActive("'),h=T(l[0]),C=T('"); // '),y=T(l[1]),u(t,"class","code svelte-1f8w8fv"),u(e,"class","api-type-container svelte-1f8w8fv")},m(F,w){S(F,e,w),o(e,t),o(t,n),o(t,a),o(t,r),o(t,c),o(t,s),o(t,i),o(t,d),o(t,j),o(t,$),o(t,g),o(t,b),o(t,_),o(t,f),o(f,p),o(f,h),o(f,C),o(f,y)},p(F,w){w&1&&O(h,F[0]),w&2&&O(y,F[1])},d(F){F&&D(e)}}}function Te(l){let e,t,n,a,r=location.origin+"",c,s,i,d,j,$,g,b=JSON.stringify({active:l[1]},null,2)+"",_;return{c(){e=m("div"),t=m("div"),n=m("code"),a=T('curl -i -H "Authorization: Bearer ENABLE_TOKEN" -X GET '),c=T(r),s=T("/api/feature/"),i=T(l[0]),d=k(),j=m("span"),j.textContent="Response",$=k(),g=m("code"),_=T(b),u(n,"class","svelte-1f8w8fv"),u(t,"class","container svelte-1f8w8fv"),u(j,"class","label svelte-1f8w8fv"),u(g,"class","svelte-1f8w8fv"),u(e,"class","api-type-container svelte-1f8w8fv")},m(f,p){S(f,e,p),o(e,t),o(t,n),o(n,a),o(n,c),o(n,s),o(n,i),o(e,d),o(e,j),o(e,$),o(e,g),o(g,_)},p(f,p){p&1&&O(i,f[0]),p&2&&b!==(b=JSON.stringify({active:f[1]},null,2)+"")&&O(_,b)},d(f){f&&D(e)}}}function Ee(l){let e,t,n,a,r,c,s,i,d,j,$,g;function b(p,h){if(p[2]==="rest")return Te;if(p[2]==="ts-sdk")return Ae}let _=b(l),f=_&&_(l);return{c(){e=m("div"),t=m("div"),n=m("span"),a=T("REST API"),c=k(),s=m("span"),i=T("Typescript SDK"),j=k(),f&&f.c(),u(n,"role","tab"),u(n,"tabindex","0"),u(n,"aria-selected",r=l[2]==="rest"),u(n,"class","svelte-1f8w8fv"),u(s,"role","tab"),u(s,"tabindex","0"),u(s,"aria-selected",d=l[2]==="ts-sdk"),u(s,"class","svelte-1f8w8fv"),u(t,"class","tab-controls svelte-1f8w8fv"),u(e,"class","defs svelte-1f8w8fv")},m(p,h){S(p,e,h),o(e,t),o(t,n),o(n,a),o(t,c),o(t,s),o(s,i),o(e,j),f&&f.m(e,null),$||(g=[M(n,"click",l[3]),M(s,"click",l[4])],$=!0)},p(p,[h]){h&4&&r!==(r=p[2]==="rest")&&u(n,"aria-selected",r),h&4&&d!==(d=p[2]==="ts-sdk")&&u(s,"aria-selected",d),_===(_=b(p))&&f?f.p(p,h):(f&&f.d(1),f=_&&_(p),f&&(f.c(),f.m(e,null)))},i:K,o:K,d(p){p&&D(e),f&&f.d(),$=!1,ee(g)}}}function Fe(l,e,t){let{name:n=""}=e,{active:a=!1}=e,r="rest";const c=()=>t(2,r="rest"),s=()=>t(2,r="ts-sdk");return l.$$set=i=>{"name"in i&&t(0,n=i.name),"active"in i&&t(1,a=i.active)},[n,a,r,c,s]}class Be extends P{constructor(e){super(),H(this,e,Fe,Ee,J,{name:0,active:1})}}function qe(l){let e,t,n,a,r,c=l[0].id+"",s,i,d,j,$,g=l[0].active?"Active":"Disabled",b,_,f,p,h,C,y,F,w;return n=new _e({props:{text:l[0].id}}),d=new Ce({props:{selected:l[1]}}),d.$on("click",l[3]),C=new Be({props:{name:l[0].id,active:l[0].active}}),{c(){e=m("div"),t=m("div"),B(n.$$.fragment),a=k(),r=m("span"),s=T(c),i=k(),B(d.$$.fragment),j=k(),$=m("span"),b=T(g),_=k(),f=m("button"),f.innerHTML='<div class="ball svelte-piq3xe"></div>',p=k(),h=m("div"),B(C.$$.fragment),u(r,"class","name svelte-piq3xe"),u($,"class","tag svelte-piq3xe"),I($,"tag-active",l[0].active),u(f,"class","toggle svelte-piq3xe"),I(f,"active",l[0].active),u(t,"class","feature svelte-piq3xe"),u(h,"class","no-h svelte-piq3xe"),I(h,"show",l[1]),u(e,"class","feature-container svelte-piq3xe")},m(v,E){S(v,e,E),o(e,t),q(n,t,null),o(t,a),o(t,r),o(r,s),o(t,i),q(d,t,null),o(t,j),o(t,$),o($,b),o(t,_),o(t,f),o(e,p),o(e,h),q(C,h,null),y=!0,F||(w=M(f,"click",l[2]),F=!0)},p(v,[E]){const G={};E&1&&(G.text=v[0].id),n.$set(G),(!y||E&1)&&c!==(c=v[0].id+"")&&O(s,c);const X={};E&2&&(X.selected=v[1]),d.$set(X),(!y||E&1)&&g!==(g=v[0].active?"Active":"Disabled")&&O(b,g),(!y||E&1)&&I($,"tag-active",v[0].active),(!y||E&1)&&I(f,"active",v[0].active);const R={};E&1&&(R.name=v[0].id),E&1&&(R.active=v[0].active),C.$set(R),(!y||E&2)&&I(h,"show",v[1])},i(v){y||(N(n.$$.fragment,v),N(d.$$.fragment,v),N(C.$$.fragment,v),y=!0)},o(v){A(n.$$.fragment,v),A(d.$$.fragment,v),A(C.$$.fragment,v),y=!1},d(v){v&&D(e),z(n),z(d),z(C),F=!1,w()}}}function ze(l,e,t){let{feature:n}=e,a=!1;function r(s){te.call(this,l,s)}const c=()=>t(1,a=!a);return l.$$set=s=>{"feature"in s&&t(0,n=s.feature)},[n,a,r,c]}class Se extends P{constructor(e){super(),H(this,e,ze,qe,J,{feature:0})}}function W(l,e,t){const n=l.slice();return n[3]=e[t],n}function Y(l){let e,t;function n(){return l[2](l[3])}return e=new Se({props:{feature:l[3]}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(a,r){q(e,a,r),t=!0},p(a,r){l=a;const c={};r&1&&(c.feature=l[3]),e.$set(c)},i(a){t||(N(e.$$.fragment,a),t=!0)},o(a){A(e.$$.fragment,a),t=!1},d(a){z(e,a)}}}function De(l){let e,t,n=U(l[0]),a=[];for(let c=0;c<n.length;c+=1)a[c]=Y(W(l,n,c));const r=c=>A(a[c],1,1,()=>{a[c]=null});return{c(){e=m("div");for(let c=0;c<a.length;c+=1)a[c].c();u(e,"class","feature-list svelte-1oo10f7")},m(c,s){S(c,e,s);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null);t=!0},p(c,[s]){if(s&3){n=U(c[0]);let i;for(i=0;i<n.length;i+=1){const d=W(c,n,i);a[i]?(a[i].p(d,s),N(a[i],1)):(a[i]=Y(d),a[i].c(),N(a[i],1),a[i].m(e,null))}for(Z(),i=n.length;i<a.length;i+=1)r(i);x()}},i(c){if(!t){for(let s=0;s<n.length;s+=1)N(a[s]);t=!0}},o(c){a=a.filter(Boolean);for(let s=0;s<a.length;s+=1)A(a[s]);t=!1},d(c){c&&D(e),fe(a,c)}}}function Ie(l,e,t){let{features:n=[]}=e;async function a(c){(await fetch("/api/features/toggle",{method:"POST",body:JSON.stringify({id:c}),headers:{"Content-Type":"application/json"}})).ok&&t(0,n=n.map(i=>(i.id==c&&(i.active=!i.active),i)))}const r=c=>a(c.id);return l.$$set=c=>{"features"in c&&t(0,n=c.features)},[n,a,r]}class Oe extends P{constructor(e){super(),H(this,e,Ie,De,J,{features:0})}}function Me(l){let e,t,n,a,r,c,s,i,d=l[1].project.name+"",j,$,g,b,_,f;return t=new me({}),r=new ve({}),g=new we({props:{projectId:l[0].id,projectName:l[1].project.name}}),_=new Oe({props:{features:l[1].features}}),{c(){e=m("div"),B(t.$$.fragment),n=k(),a=m("div"),B(r.$$.fragment),c=k(),s=m("header"),i=m("h1"),j=T(d),$=k(),B(g.$$.fragment),b=k(),B(_.$$.fragment),u(s,"class","page-header"),u(a,"class","page")},m(p,h){S(p,e,h),q(t,e,null),o(e,n),o(e,a),q(r,a,null),o(a,c),o(a,s),o(s,i),o(i,j),o(s,$),q(g,s,null),o(a,b),q(_,a,null),f=!0},p(p,[h]){(!f||h&2)&&d!==(d=p[1].project.name+"")&&O(j,d);const C={};h&1&&(C.projectId=p[0].id),h&2&&(C.projectName=p[1].project.name),g.$set(C);const y={};h&2&&(y.features=p[1].features),_.$set(y)},i(p){f||(N(t.$$.fragment,p),N(r.$$.fragment,p),N(g.$$.fragment,p),N(_.$$.fragment,p),f=!0)},o(p){A(t.$$.fragment,p),A(r.$$.fragment,p),A(g.$$.fragment,p),A(_.$$.fragment,p),f=!1},d(p){p&&D(e),z(t),z(r),z(g),z(_)}}}function Pe(l,e,t){let{params:n={id:""}}=e,a={project:{name:""},features:[]};return ue(async()=>{const r=await fetch(`/api/features/${n.id}`);t(1,a=await r.json())}),l.$$set=r=>{"params"in r&&t(0,n=r.params)},[n,a]}class Ke extends P{constructor(e){super(),H(this,e,Pe,Me,J,{params:0})}}export{Ke as default};
